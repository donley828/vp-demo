(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{55:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"hello-world"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hello-world","aria-hidden":"true"}},[t._v("#")]),t._v(" Hello World")]),s("p",[t._v("In this chapter, I will give you a very simple helloworld example for ServerHub static services. Feel free to leave issues or prs.")]),s("h2",{attrs:{id:"set-up-your-working-directory"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set-up-your-working-directory","aria-hidden":"true"}},[t._v("#")]),t._v(" Set up your working directory")]),s("p",[t._v("Your working directory is suggested to be as clean as possible in this helloworld example. Or you can create a new folder as the project directory:")]),s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" serverhub-helloworld "),s("span",{attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("cd")]),t._v(" serverhub-helloworld\n")])]),s("p",[t._v("Now, initialize your directory with "),s("code",[t._v("npm")]),t._v(".")]),s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" init\n")])]),s("p",[t._v("Or, you can just skip nagging prompt by add "),s("code",[t._v("-y")]),t._v(" option to "),s("code",[t._v("npm init")]),t._v(" command.")]),s("h2",{attrs:{id:"install-serverhub"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-serverhub","aria-hidden":"true"}},[t._v("#")]),t._v(" Install ServerHub")]),s("p",[t._v("In order to correctly install and run ServerHub applications, you MUST have "),s("strong",[t._v("Node.js")]),t._v(" installed (which will also install "),s("code",[t._v("npm")]),t._v(" for your machine).")]),s("p",[t._v("There is something that I need to stress: "),s("strong",[t._v("never try to install ServerHub by clone GitHub repository if you don't want to read the source code")]),t._v(" (Because there will be some dependencies missing and you have to install them manually). Instead, the best and simple way is to use "),s("code",[t._v("npm")]),t._v(".")]),s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" --save serverhub-mvc\n")])]),s("p",[t._v("Done! Now you have serverhub installed in your working directory.")]),s("p",[t._v("After that, your directory looks like the following:")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("serverhub"),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("helloworld"),s("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("\n├——node_modules"),s("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("\n├——app"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js "),s("span",{attrs:{class:"token comment"}},[t._v("// entry of server")]),t._v("\n├——"),s("span",{attrs:{class:"token keyword"}},[t._v("package")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("lock"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json\n├——"),s("span",{attrs:{class:"token keyword"}},[t._v("package")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json\n")])]),s("h2",{attrs:{id:"edit-app-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#edit-app-js","aria-hidden":"true"}},[t._v("#")]),t._v(" Edit "),s("code",[t._v("app.js")])]),s("p",[t._v("First of all, we need to import serverhub. And then we call "),s("code",[t._v("Run()")]),t._v(" method to set up ServerHub.")]),s("p",[t._v("The modified code should look like this:")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" serverhub "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"serverhub-mvc"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nserverhub"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("Run")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  BaseDir"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" __dirname\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),s("p",[t._v("Now, run application with "),s("code",[t._v("node app.js")]),t._v('. Then go to your favorite browser and checkout "http://localhost:926". There might be an 404 page shown.')]),s("p",[s("img",{attrs:{src:"/assets/helloworld-404.png",alt:"404"}})]),s("p",[s("strong",[t._v("Good job!")]),t._v(" Now, your first ServerHub app is running correctly!")]),s("h2",{attrs:{id:"extended-example-of-hello-world"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#extended-example-of-hello-world","aria-hidden":"true"}},[t._v("#")]),t._v(" Extended Example of Hello World")]),s("p",[t._v("In previous section, we managed to start the server app but it only returns an 404 page. We definitely don't want to show a missing message. So in this section, we will dive into ServerHub controllers and web directories.")]),s("h3",{attrs:{id:"add-your-first-controller"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-your-first-controller","aria-hidden":"true"}},[t._v("#")]),t._v(" Add your first controller")]),s("p",[t._v('In default, ServerHub treat "controller/" at same directory of '),s("code",[t._v("app.js")]),t._v(" as the controller directory. So, we create such folder and create a file named "),s("code",[t._v("home.js")]),t._v(". But don't worry, you will have chance to assign a new value for it.")]),s("p",[t._v("And here is the content:")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  index"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" method"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("write")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v('"Hello ServerHub"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    res"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("end")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),s("p",[t._v("Restart serverhub and checkout browser.")]),s("p",[s("img",{attrs:{src:"/assets/helloworld-controller.png",alt:"helloworld-controller"}})]),s("p",[t._v("Why this page shows up? We didn't change the URL in browser!")]),s("p",[t._v('And this is how ServerHub route works. It defaultly dispatchs the "index" action defined in "home" controller and displays the operated data. Try to make some change in '),s("code",[t._v("home.js")]),t._v(' controller. In this situation, URL "/" is equivalent to "/home/index/". Isn\'t it cool!')]),s("h2",{attrs:{id:"after-this-example"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#after-this-example","aria-hidden":"true"}},[t._v("#")]),t._v(" After this example")]),s("p",[t._v("Now we've gone through the whole example of ServerHub helloworld. Have you learnt how to build a simple server-side app with ServerHub?")]),s("p",[t._v("For more guides and documents, visit "),s("a",{attrs:{href:""}},[t._v("doc page")]),t._v(".")]),s("h2",{attrs:{id:"contributions-of-this-chapter"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#contributions-of-this-chapter","aria-hidden":"true"}},[t._v("#")]),t._v(" Contributions of this chapter")]),s("p",[s("a",{attrs:{href:"https://github.com/maoyuyang",target:"_blank",rel:"noopener noreferrer"}},[t._v("Yuyang Mao")]),t._v(" Suggested to provide this helloworld example for ServerHub.")])])}],!1,null,null,null);e.default=n.exports}}]);